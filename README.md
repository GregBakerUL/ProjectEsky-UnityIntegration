# ProjectEsky-UnityIntegration

Welcome to Project Esky! 

Project Esky aims to be the software companion to allow developing with the Deck X/North Star Display system out of the box! 
(Utilizing the t265/1 or a ZED system for 6DoF tracking <Available in another repo, TBA>)
This includes a unity package that handles
- Rendering (with V2)
- MRTK Integration with the Leap Motion controller (aligned with the user's view)
- 6DoF Head Tracking + Re-Localization events (Save map, load map, add persistence, callbacks, ect.)
- Spatial mapping (Via the ZED SDK, with future plans to rip out the point cloud for t265 to allow scene authoring/phantom model interactions)

This channel is dedicated to those who want to use esky in their projects, however if you do use this for research purposes, we kindly ask you to cite the following paper: <TBA>

Currently, the v2 + leapmotion + T265 calibration in this project has been pre calibrated and setup, 
It utilizes a DeckX variation of the Project North-Star display, purchasable here: https://www.smart-prototyping.com/AR-VR-MR-XR 
Your headset, provided there is little warping in the 3D print/sensor arrangement, should be good to go from here!

If you want to improve the visual quality, calibrate your NS using the v2 method described here: https://project-north-star.gitbook.io/project-north-star/calibration/calibration-v2

Copy/Paste the 4 float arrays generated by the northstar v2 calibration, into /NorthStarCalibration.json
(Warning, DO NOT JUST COPY AND PASTE THE FILE, or you'll need to re-add the extra variables I set, at least until the calibration method includes these variables in the JSON file)

Load up the project in unity, load /Assets/HandInteractionExamples.unity

Adjust the NorthStarV2NativeRenderer script attached to the 'NorthStarRig' gameobject with the window position x/y, and resolution of your render textures
if your image isn't clear, try toggling the 'requires rotation' boolean (to rotate the cameras 90 degrees)
with any luck you, when you hit play, you should see an undistorted stereo pair on your headset.

You can now adjust the offset for the left and right eye, using the NorthStar V2 Native Renderer, 
you should try your best to adjust the offsets so that the objects in the scene overlap perfectly!

<TODO: A scene specifically for screen-space alignment>
<TODO: Instructions for hand alignment, and save left/right eye offsets in the calibration file>
<TODO: Native intergration of the ZED tracker, either as a source for pose input, or 3D reconstruction>

